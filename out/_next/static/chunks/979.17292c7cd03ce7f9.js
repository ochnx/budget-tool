"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[979],{61524:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(87461).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},57976:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(87461).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},49108:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(87461).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},37805:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(87461).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},72272:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=a(3827),n=a(64090),s=a(14958),o=a(18695),l=a(49108),i=a(37805),d=a(61524),c=a(57976);function m(){let[e,t]=(0,n.useState)([]),[a,m]=(0,n.useState)([]),[u,h]=(0,n.useState)(()=>{let e=new Date;return{month:e.getMonth(),year:e.getFullYear()}}),[x,g]=(0,n.useState)(!0);async function f(){g(!0);let e=new Date(u.year,u.month,1),a=new Date(u.year,u.month+1,0),[r,n]=await Promise.all([s.O.from("transactions").select("*, category:categories(*)").eq("is_income",!1).gte("date",e.toISOString().split("T")[0]).lte("date",a.toISOString().split("T")[0]),s.O.from("categories").select("*").eq("type","expense").order("sort_order")]);r.data&&t(r.data),n.data&&m(n.data),g(!1)}(0,n.useEffect)(()=>{f()},[u]);let b=(0,n.useMemo)(()=>a.filter(e=>e.monthly_budget>0).map(t=>{let a=e.filter(e=>e.category_id===t.id).reduce((e,t)=>e+Number(t.amount),0),r=Math.min(Math.round(a/t.monthly_budget*100),100),n=t.monthly_budget-a,s=a>t.monthly_budget;return{...t,spent:a,percentage:r,remaining:n,isOver:s,overAmount:s?a-t.monthly_budget:0}}).sort((e,t)=>t.percentage-e.percentage),[e,a]),k=b.reduce((e,t)=>e+t.monthly_budget,0),y=b.reduce((e,t)=>e+t.spent,0),p=k>0?Math.round(y/k*100):0;return x?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-emerald-500 border-t-transparent"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Budget-\xdcbersicht"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:function(){h(e=>0===e.month?{month:11,year:e.year-1}:{...e,month:e.month-1})},className:"p-2 rounded-lg hover:bg-dark-700 text-dark-300 hover:text-dark-100",children:(0,r.jsx)(l.Z,{size:20})}),(0,r.jsxs)("span",{className:"text-lg font-semibold min-w-[180px] text-center",children:[(0,o.ZY)(u.month)," ",u.year]}),(0,r.jsx)("button",{onClick:function(){h(e=>11===e.month?{month:0,year:e.year+1}:{...e,month:e.month+1})},className:"p-2 rounded-lg hover:bg-dark-700 text-dark-300 hover:text-dark-100",children:(0,r.jsx)(i.Z,{size:20})})]})]}),(0,r.jsxs)("div",{className:"glass rounded-2xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Gesamtbudget"}),(0,r.jsxs)("p",{className:"text-sm text-dark-400",children:[(0,o.xG)(y)," von ",(0,o.xG)(k)," verbraucht"]})]}),(0,r.jsxs)("span",{className:"text-3xl font-bold ".concat(p>100?"text-red-400":p>80?"text-amber-400":"text-emerald-400"),children:[p,"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-dark-700 rounded-full h-4 overflow-hidden",children:(0,r.jsx)("div",{className:"h-full rounded-full transition-all duration-700 ease-out ".concat(p>100?"bg-red-500":p>80?"bg-amber-500":"bg-emerald-500"),style:{width:"".concat(Math.min(p,100),"%")}})})]}),0===b.length?(0,r.jsxs)("div",{className:"glass rounded-2xl p-12 text-center",children:[(0,r.jsx)("p",{className:"text-dark-400 text-lg",children:"Kein Budget gesetzt"}),(0,r.jsx)("p",{className:"text-dark-500 text-sm mt-2",children:"Gehe zu Kategorien und setze ein Monatsbudget f\xfcr deine Ausgaben-Kategorien."})]}):(0,r.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,r.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-lg",style:{backgroundColor:e.color+"20"},children:e.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-dark-100",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-dark-400",children:[(0,o.xG)(e.spent)," / ",(0,o.xG)(e.monthly_budget)]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[e.isOver?(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-red-400",children:[(0,r.jsx)(d.Z,{size:16}),(0,r.jsxs)("span",{className:"text-sm font-bold",children:["+",(0,o.xG)(e.overAmount)]})]}):(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-emerald-400",children:[(0,r.jsx)(c.Z,{size:16}),(0,r.jsxs)("span",{className:"text-sm font-bold",children:[(0,o.xG)(e.remaining)," \xfcbrig"]})]}),(0,r.jsxs)("p",{className:"text-xs text-dark-500 mt-0.5",children:[e.percentage,"%"]})]})]}),(0,r.jsx)("div",{className:"w-full bg-dark-700 rounded-full h-2.5 overflow-hidden",children:(0,r.jsx)("div",{className:"h-full rounded-full transition-all duration-700 ease-out",style:{width:"".concat(Math.min(e.percentage,100),"%"),backgroundColor:e.isOver?"#EF4444":e.percentage>80?"#F59E0B":e.color}})})]},e.id))})]})}},18695:function(e,t,a){a.d(t,{Wd:function(){return n},ZY:function(){return o},xG:function(){return s}});let r=[{categoryName:"Miete",keywords:["miete","mietvertrag","kaltmiete","warmmiete","nebenkosten","hausverwaltung","wohnungsbau"]},{categoryName:"Lebensmittel",keywords:["rewe","edeka","aldi","lidl","netto","penny","kaufland","dm-drogerie","dm ","rossmann","supermarkt","lebensmittel","norma","real"]},{categoryName:"Klamotten",keywords:["zara","h&m","zalando","about you","aboutyou","asos","nike","adidas","cos ","uniqlo","pull&bear","bershka","massimo dutti","mango","snipes","foot locker","footlocker","mr porter","end clothing","ssense","farfetch","kickz","hhv"]},{categoryName:"Transport",keywords:["db ","deutsche bahn","bahn","deutschlandticket","mvv","uber","bolt","freenow","free now","tier","lime","voi","tankstelle","aral","shell","esso","jet tanken","adac","flixbus","taxi"]},{categoryName:"Restaurants",keywords:["restaurant","lieferando","uber eats","ubereats","wolt","doordash","mcdonalds","mcdonald","burger king","subway","starbucks","cafe","kaffee","pizz","sushi","kebab","d\xf6ner","gastronomie","bistro"]},{categoryName:"Abos & Subscriptions",keywords:["spotify","netflix","disney+","amazon prime","apple","icloud","google storage","youtube premium","crunchyroll","chatgpt","openai","notion","figma","adobe","microsoft","github","vercel","hetzner","digitalocean","cloudflare","fitnessstudio","mcfit","gym","john reed"]},{categoryName:"Gesundheit",keywords:["apotheke","arzt","praxis","krankenhaus","klinik","physiotherapie","zahnarzt","krankenkasse","tk ","aok","barmer","dak"]},{categoryName:"Entertainment",keywords:["kino","cinema","steam","playstation","xbox","nintendo","gaming","konzert","ticket","eventim","club","disco","party","festival"]},{categoryName:"Geschenke",keywords:["geschenk","blume","fleurop","amazon.de marketplace"]},{categoryName:"Gehalt",keywords:["gehalt","lohn","verg\xfctung","arbeitgeber"]},{categoryName:"Freelance",keywords:["honorar","rechnung","freelance","projekt","beratung"]}];function n(e,t,a){let n="".concat(e," ").concat(t).toLowerCase();for(let e of r)for(let t of e.keywords)if(n.includes(t.toLowerCase()))return e.categoryName;return null}function s(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e)}function o(e){return["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"][e]}},14958:function(e,t,a){a.d(t,{O:function(){return r}});let r=(0,a(27688).eI)("https://lvhxabadywdqeepymwdm.supabase.co","sb_publishable_bF5kedUI50llEI-r1yaxIg_8Q6sauiD")}}]);
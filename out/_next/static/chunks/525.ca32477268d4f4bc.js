"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{60585:function(e,t,a){a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},23441:function(e,t,a){a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},70094:function(e,t,a){a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},50489:function(e,t,a){a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},84525:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var n=a(3827),r=a(64090),s=a(14958),o=a(18695),i=a(52235),l=a(70094);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,a(87461).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var c=a(60585),u=a(23441),m=a(50489);function x(){let[e,t]=(0,r.useState)([]),[a,x]=(0,r.useState)([]),[p,h]=(0,r.useState)(!0),[g,k]=(0,r.useState)(""),[f,b]=(0,r.useState)("all"),[y,v]=(0,r.useState)("all"),[j,N]=(0,r.useState)("date"),[w,_]=(0,r.useState)("desc"),[C,z]=(0,r.useState)(null),[S,Z]=(0,r.useState)(!1),[D,E]=(0,r.useState)({date:new Date().toISOString().split("T")[0],amount:"",description:"",recipient:"",category_id:"",is_income:!1,notes:""});async function T(){h(!0);let[e,a]=await Promise.all([s.O.from("transactions").select("*, category:categories(*)").order("date",{ascending:!1}).limit(500),s.O.from("categories").select("*").order("sort_order")]);e.data&&t(e.data),a.data&&x(a.data),h(!1)}async function M(e,t){await s.O.from("transactions").update({category_id:t||null}).eq("id",e),z(null),T()}async function O(e){confirm("Transaktion wirklich l\xf6schen?")&&(await s.O.from("transactions").delete().eq("id",e),T())}async function q(){D.amount&&D.date&&(await s.O.from("transactions").insert({date:D.date,amount:parseFloat(D.amount),description:D.description,recipient:D.recipient,category_id:D.category_id||null,is_income:D.is_income,notes:D.notes}),Z(!1),E({date:new Date().toISOString().split("T")[0],amount:"",description:"",recipient:"",category_id:"",is_income:!1,notes:""}),T())}(0,r.useEffect)(()=>{T()},[]);let A=e.filter(e=>{if("income"===y&&!e.is_income||"expense"===y&&e.is_income||"all"!==f&&e.category_id!==f)return!1;if(g){var t,a,n;let r=g.toLowerCase();return((null===(t=e.description)||void 0===t?void 0:t.toLowerCase())||"").includes(r)||((null===(a=e.recipient)||void 0===a?void 0:a.toLowerCase())||"").includes(r)||((null===(n=e.notes)||void 0===n?void 0:n.toLowerCase())||"").includes(r)}return!0}).sort((e,t)=>{let a="asc"===w?1:-1;return"date"===j?a*(new Date(e.date).getTime()-new Date(t.date).getTime()):a*(Number(e.amount)-Number(t.amount))});function K(e){j===e?_(e=>"asc"===e?"desc":"asc"):(N(e),_("desc"))}return p?(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-emerald-500 border-t-transparent"})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold",children:"Transaktionen"}),(0,n.jsxs)("button",{onClick:()=>Z(!S),className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl text-sm font-medium",children:[S?(0,n.jsx)(i.Z,{size:16}):(0,n.jsx)(l.Z,{size:16}),S?"Abbrechen":"Neue Transaktion"]})]}),S&&(0,n.jsxs)("div",{className:"glass rounded-2xl p-6 space-y-4",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Neue Transaktion hinzuf\xfcgen"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-dark-400 mb-1",children:"Datum"}),(0,n.jsx)("input",{type:"date",value:D.date,onChange:e=>E({...D,date:e.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-xl text-dark-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-dark-400 mb-1",children:"Betrag (€)"}),(0,n.jsx)("input",{type:"number",step:"0.01",placeholder:"0,00",value:D.amount,onChange:e=>E({...D,amount:e.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-xl text-dark-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-dark-400 mb-1",children:"Empf\xe4nger"}),(0,n.jsx)("input",{type:"text",placeholder:"z.B. REWE",value:D.recipient,onChange:e=>E({...D,recipient:e.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-xl text-dark-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-dark-400 mb-1",children:"Beschreibung"}),(0,n.jsx)("input",{type:"text",placeholder:"Was war das?",value:D.description,onChange:e=>E({...D,description:e.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-xl text-dark-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-dark-400 mb-1",children:"Kategorie"}),(0,n.jsxs)("select",{value:D.category_id,onChange:e=>E({...D,category_id:e.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-xl text-dark-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50",children:[(0,n.jsx)("option",{value:"",children:"— Keine —"}),a.map(e=>(0,n.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))]})]}),(0,n.jsxs)("div",{className:"flex items-end gap-4",children:[(0,n.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",checked:D.is_income,onChange:e=>E({...D,is_income:e.target.checked}),className:"w-4 h-4 rounded accent-emerald-500"}),(0,n.jsx)("span",{className:"text-sm text-dark-300",children:"Einnahme"})]}),(0,n.jsx)("button",{onClick:q,className:"px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl text-sm font-medium",children:"Speichern"})]})]})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,n.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,n.jsx)(d,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Suchen...",value:g,onChange:e=>k(e.target.value),className:"w-full pl-9 pr-3 py-2.5 bg-dark-800 border border-dark-700 rounded-xl text-sm text-dark-100 placeholder-dark-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]}),(0,n.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"px-3 py-2.5 bg-dark-800 border border-dark-700 rounded-xl text-sm text-dark-100 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",children:[(0,n.jsx)("option",{value:"all",children:"Alle Kategorien"}),a.map(e=>(0,n.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))]}),(0,n.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"px-3 py-2.5 bg-dark-800 border border-dark-700 rounded-xl text-sm text-dark-100 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",children:[(0,n.jsx)("option",{value:"all",children:"Alles"}),(0,n.jsx)("option",{value:"income",children:"Einnahmen"}),(0,n.jsx)("option",{value:"expense",children:"Ausgaben"})]})]}),(0,n.jsxs)("div",{className:"glass rounded-2xl overflow-hidden",children:[(0,n.jsxs)("div",{className:"hidden sm:grid grid-cols-12 gap-2 px-4 py-3 bg-dark-800/60 border-b border-dark-700/50 text-xs font-semibold text-dark-400 uppercase tracking-wider",children:[(0,n.jsxs)("button",{className:"col-span-2 flex items-center gap-1 hover:text-dark-200",onClick:()=>K("date"),children:["Datum ",(0,n.jsx)(c.Z,{size:12})]}),(0,n.jsx)("div",{className:"col-span-3",children:"Empf\xe4nger"}),(0,n.jsx)("div",{className:"col-span-3",children:"Beschreibung"}),(0,n.jsx)("div",{className:"col-span-2",children:"Kategorie"}),(0,n.jsxs)("button",{className:"col-span-1 flex items-center gap-1 hover:text-dark-200 justify-end",onClick:()=>K("amount"),children:["Betrag ",(0,n.jsx)(c.Z,{size:12})]}),(0,n.jsx)("div",{className:"col-span-1"})]}),0===A.length?(0,n.jsx)("div",{className:"py-12 text-center text-dark-400",children:"Keine Transaktionen gefunden"}):(0,n.jsx)("div",{className:"divide-y divide-dark-700/30",children:A.map(e=>{let t=e.category;return(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-12 gap-2 px-4 py-3 hover:bg-dark-700/30 items-center",children:[(0,n.jsx)("div",{className:"sm:col-span-2 text-sm text-dark-300",children:new Date(e.date).toLocaleDateString("de-DE")}),(0,n.jsx)("div",{className:"sm:col-span-3 text-sm font-medium text-dark-100 truncate",children:e.recipient||"—"}),(0,n.jsx)("div",{className:"sm:col-span-3 text-sm text-dark-400 truncate",children:e.description||"—"}),(0,n.jsx)("div",{className:"sm:col-span-2",children:C===e.id?(0,n.jsxs)("select",{autoFocus:!0,defaultValue:e.category_id||"",onChange:t=>M(e.id,t.target.value),onBlur:()=>z(null),className:"w-full px-2 py-1 bg-dark-700 border border-dark-600 rounded-lg text-xs text-dark-100 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",children:[(0,n.jsx)("option",{value:"",children:"— Keine —"}),a.map(e=>(0,n.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))]}):(0,n.jsxs)("button",{onClick:()=>z(e.id),className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium hover:bg-dark-700/50",style:{color:(null==t?void 0:t.color)||"#6B7280"},children:[(0,n.jsx)("span",{children:(null==t?void 0:t.icon)||"❓"}),(0,n.jsx)("span",{children:(null==t?void 0:t.name)||"Kategorie w\xe4hlen"}),(0,n.jsx)(u.Z,{size:12})]})}),(0,n.jsxs)("div",{className:"sm:col-span-1 text-sm font-bold text-right ".concat(e.is_income?"text-emerald-400":"text-red-400"),children:[e.is_income?"+":"-",(0,o.xG)(Number(e.amount))]}),(0,n.jsx)("div",{className:"sm:col-span-1 flex justify-end",children:(0,n.jsx)("button",{onClick:()=>O(e.id),className:"p-1.5 rounded-lg text-dark-500 hover:text-red-400 hover:bg-red-500/10",children:(0,n.jsx)(m.Z,{size:14})})})]},e.id)})})]}),(0,n.jsxs)("p",{className:"text-sm text-dark-500 text-center",children:[A.length," von ",e.length," Transaktionen"]})]})}},18695:function(e,t,a){a.d(t,{Wd:function(){return r},ZY:function(){return o},xG:function(){return s}});let n=[{categoryName:"Miete",keywords:["miete","mietvertrag","kaltmiete","warmmiete","nebenkosten","hausverwaltung","wohnungsbau"]},{categoryName:"Lebensmittel",keywords:["rewe","edeka","aldi","lidl","netto","penny","kaufland","dm-drogerie","dm ","rossmann","supermarkt","lebensmittel","norma","real"]},{categoryName:"Klamotten",keywords:["zara","h&m","zalando","about you","aboutyou","asos","nike","adidas","cos ","uniqlo","pull&bear","bershka","massimo dutti","mango","snipes","foot locker","footlocker","mr porter","end clothing","ssense","farfetch","kickz","hhv"]},{categoryName:"Transport",keywords:["db ","deutsche bahn","bahn","deutschlandticket","mvv","uber","bolt","freenow","free now","tier","lime","voi","tankstelle","aral","shell","esso","jet tanken","adac","flixbus","taxi"]},{categoryName:"Restaurants",keywords:["restaurant","lieferando","uber eats","ubereats","wolt","doordash","mcdonalds","mcdonald","burger king","subway","starbucks","cafe","kaffee","pizz","sushi","kebab","d\xf6ner","gastronomie","bistro"]},{categoryName:"Abos & Subscriptions",keywords:["spotify","netflix","disney+","amazon prime","apple","icloud","google storage","youtube premium","crunchyroll","chatgpt","openai","notion","figma","adobe","microsoft","github","vercel","hetzner","digitalocean","cloudflare","fitnessstudio","mcfit","gym","john reed"]},{categoryName:"Gesundheit",keywords:["apotheke","arzt","praxis","krankenhaus","klinik","physiotherapie","zahnarzt","krankenkasse","tk ","aok","barmer","dak"]},{categoryName:"Entertainment",keywords:["kino","cinema","steam","playstation","xbox","nintendo","gaming","konzert","ticket","eventim","club","disco","party","festival"]},{categoryName:"Geschenke",keywords:["geschenk","blume","fleurop","amazon.de marketplace"]},{categoryName:"Gehalt",keywords:["gehalt","lohn","verg\xfctung","arbeitgeber"]},{categoryName:"Freelance",keywords:["honorar","rechnung","freelance","projekt","beratung"]}];function r(e,t,a){let r="".concat(e," ").concat(t).toLowerCase();for(let e of n)for(let t of e.keywords)if(r.includes(t.toLowerCase()))return e.categoryName;return null}function s(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e)}function o(e){return["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"][e]}},14958:function(e,t,a){a.d(t,{O:function(){return n}});let n=(0,a(27688).eI)("https://lvhxabadywdqeepymwdm.supabase.co","sb_publishable_bF5kedUI50llEI-r1yaxIg_8Q6sauiD")}}]);